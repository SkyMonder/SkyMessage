<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Вход | SkyMessage</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen">
<div class="bg-white p-8 rounded shadow-md w-96">
  <h1 class="text-2xl font-bold mb-6 text-center">Войти</h1>
  <div class="mb-4">
    <input id="loginUser" type="text" placeholder="Логин" class="w-full p-2 border rounded">
  </div>
  <div class="mb-4">
    <input id="loginPass" type="password" placeholder="Пароль" class="w-full p-2 border rounded">
  </div>
  <button id="loginBtn" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition">Войти</button>
  <p class="mt-4 text-center text-sm">
    Нет аккаунта? <a href="/register.html" class="text-blue-500 hover:underline">Зарегистрироваться</a>
  </p>
</div>

<script>
document.getElementById('loginBtn').addEventListener('click', async ()=>{
  const username = document.getElementById('loginUser').value.trim();
  const password = document.getElementById('loginPass').value.trim();
  if(!username || !password){ alert('Введите логин и пароль'); return; }

  const res = await fetch('/login', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({username,password})
  });
  const data = await res.json();
  if(data.ok) window.location.href='/chats.html';
  else alert('Неверный логин или пароль');
});
</script>
</body>
</html>
